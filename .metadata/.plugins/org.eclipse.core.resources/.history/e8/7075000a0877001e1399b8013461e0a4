/*
 * SPI_program.c
 *
 *  Created on: Oct 30, 2023
 *      Author: Mostafa_Salem
 */

#include "../../LIB/Bit_Math.h"
#include "../../LIB/STD_Types.h"
#include "SPI_private.h"
//#include "SPI_config.h"
#include "SPI_interface.h"


void SPI_voidInitialize(u8 Copy_u8ModeSelect){

	ClrBit(SPCR,7);
	SetBit(SPCR,6);
	ClrBit(SPCR,5);

	switch(Copy_u8ModeSelect){
		case MASTER:
			SetBit(SPCR,4);
			break;
		case SLAVE:
			ClrBit(SPCR,4);
			break;
	}

	ClrBit(SPCR,3);
	ClrBit(SPCR,2);

	ClrBit(SPCR,1);
	SetBit(SPCR,0);
	SetBit(SPSR,0);
}

u8 SPI_u8TransCiver(u8 Copu_u8Data){

	SPDR=Copu_u8Data;
	while(GetBit(SPSR,7)==0);
	return SPDR;
}
