/*
 * SPI_program.c
 *
 *  Created on: Oct 30, 2023
 *      Author: Mostafa_Salem
 */

#include "../../LIB/Bit_Math.h"
#include "../../LIB/STD_Types.h"
#include "SPI_private.h"
//#include "SPI_config.h"
#include "SPI_interface.h"


void SPI_voidInitialize(u8 Copy_u8ModeSelect){

	CLR_BIT(SPCR,7);
	SET_BIT(SPCR,6);
	CLR_BIT(SPCR,5);

	switch(Copy_u8ModeSelect){
		case MASTER:
			SET_BIT(SPCR,4);
			break;
		case SLAVE:
			CLR_BIT(SPCR,4);
			break;
	}

	CLR_BIT(SPCR,3);
	CLR_BIT(SPCR,2);

	CLR_BIT(SPCR,1);
	SET_BIT(SPCR,0);
	SET_BIT(SPSR,0);
}

u8 SPI_u8TransCiver(u8 Copu_u8Data){

	SPDR=Copu_u8Data;
	while((GET_BIT(SPSR,7))==0);
	return SPDR;
}
